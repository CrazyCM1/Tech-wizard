<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Profile</title>

  <style>
    /* back-button.css */
.back-btn {
    position: fixed;   /* stays on top-right corner even when scrolling */
    top: 20px;         /* distance from top */
    right: 20px;       /* distance from right */
    background: #ef4444; /* red button */
    color: white;
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    font-weight: 500;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    transition: transform 0.2s, background 0.2s;
    z-index: 1000;     /* stays above other elements */
}

.back-btn:hover {
    background: #dc2626;
    transform: scale(1.05);
}

    :root{
      --bg: #0b0f18;
      --card: rgba(255,255,255,0.06);
      --card-border: rgba(255,255,255,0.10);
      --muted: rgba(255,255,255,0.65);
      --text: rgba(255,255,255,0.92);

      --primary: #7c5cff;
      --primary2: #2b6cff;
      --danger: #ff4d6d;

      --shadow: 0 22px 70px rgba(0,0,0,0.55);
      --radius: 22px;
    }

    *{
      box-sizing: border-box;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial;
      margin: 0;
      padding: 0;
    }

    body{
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 22px;
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(124,92,255,0.25), transparent 55%),
        radial-gradient(1000px 500px at 80% 70%, rgba(43,108,255,0.18), transparent 60%),
        radial-gradient(900px 500px at 50% 110%, rgba(255,77,109,0.12), transparent 55%),
        var(--bg);
      overflow-x: hidden;
      animation: pageFade 0.7s ease;
    }

    @keyframes pageFade {
      from { opacity: 0; transform: translateY(15px); }
      to   { opacity: 1; transform: translateY(0px); }
    }

    .overlay{
      width: 100%;
      max-width: 860px;
      animation: pop 0.55s cubic-bezier(.2,.8,.2,1);
    }

    @keyframes pop{
      from{ opacity: 0; transform: translateY(18px) scale(0.98); }
      to{ opacity: 1; transform: translateY(0) scale(1); }
    }

    .card{
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(18px);
      overflow: hidden;
      position: relative;
    }

    .card::before{
      content: "";
      position: absolute;
      inset: -2px;
      background: linear-gradient(120deg,
        rgba(124,92,255,0.35),
        rgba(43,108,255,0.25),
        rgba(255,77,109,0.18)
      );
      filter: blur(18px);
      opacity: 0.35;
      z-index: -1;
    }

    .header{
      padding: 18px 20px 0px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .header h1{
      font-size: 20px;
      color: var(--text);
      font-weight: 800;
    }

    .profile-area{
      padding: 16px 20px 6px;
      display: grid;
      place-items: center;
    }

    .avatar-wrap{
      width: 148px;
      height: 148px;
      border-radius: 50%;
      position: relative;
      display: grid;
      place-items: center;
    }

    .avatar-ring{
      width: 148px;
      height: 148px;
      border-radius: 50%;
      background:
        radial-gradient(circle at top left, rgba(124,92,255,0.9), rgba(43,108,255,0.85), rgba(255,77,109,0.6));
      padding: 3px;
      display: grid;
      place-items: center;
      box-shadow: 0 20px 55px rgba(0,0,0,0.55);
    }

    .avatar{
      width: 142px;
      height: 142px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.08);
      object-fit: cover;
      display: block;
      background: rgba(0,0,0,0.25);
    }

    .camera-btn{
      position: absolute;
      right: 6px;
      bottom: 6px;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(10,14,24,0.8);
      backdrop-filter: blur(10px);
      display: grid;
      place-items: center;
      cursor: pointer;
      transition: 0.25s ease;
      box-shadow: 0 12px 25px rgba(0,0,0,0.45);
    }

    .camera-btn:hover{
      transform: translateY(-2px);
      border-color: rgba(124,92,255,0.55);
      box-shadow: 0 18px 35px rgba(0,0,0,0.55);
    }

    .camera-btn svg{
      width: 18px;
      height: 18px;
      opacity: 0.9;
      fill: white;
    }

    .form{
      padding: 14px 20px 18px;
      display: grid;
      gap: 14px;
    }

    .grid-2{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    @media (max-width: 700px){
      .grid-2{ grid-template-columns: 1fr; }
    }

    .section-title{
      margin-top: 6px;
      padding: 12px 4px 2px;
      font-size: 14px;
      font-weight: 900;
      color: rgba(255,255,255,0.85);
      letter-spacing: 0.3px;
    }

    .field{
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.10);
      border-radius: 16px;
      padding: 12px 14px;
      transition: 0.25s ease;
    }

    .field label{
      display: block;
      color: rgba(255,255,255,0.70);
      font-size: 12px;
      margin-bottom: 6px;
      font-weight: 700;
    }

    .field input,
    .field textarea{
      width: 100%;
      border: none;
      outline: none;
      background: transparent;
      color: var(--text);
      font-size: 15px;
      font-weight: 650;
      padding: 4px 0;
      resize: none;
    }

    textarea{
      min-height: 85px;
      line-height: 1.4;
    }

    .hint{
      margin-top: 8px;
      font-size: 12px;
      color: rgba(255,255,255,0.55);
      line-height: 1.35;
    }

    .error{
      margin-top: 8px;
      font-size: 12px;
      color: rgba(255, 77, 109, 0.95);
      font-weight: 800;
      display: none;
    }

    .actions{
      padding: 14px 20px 20px;
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .btn{
      border: none;
      border-radius: 999px;
      padding: 12px 18px;
      font-weight: 800;
      cursor: pointer;
      transition: 0.25s ease;
      font-size: 14px;
    }

    .btn-cancel{
      background: rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.85);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .btn-save{
      background: linear-gradient(90deg, var(--primary2), var(--primary));
      color: white;
      box-shadow: 0 18px 35px rgba(43,108,255,0.22);
    }

    .btn:disabled{
      opacity: 0.45;
      cursor: not-allowed;
    }

    .toast{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: rgba(10,14,24,0.88);
      border: 1px solid rgba(255,255,255,0.10);
      color: rgba(255,255,255,0.92);
      padding: 12px 14px;
      border-radius: 16px;
      box-shadow: 0 22px 70px rgba(0,0,0,0.55);
      opacity: 0;
      pointer-events: none;
      transition: 0.35s ease;
      backdrop-filter: blur(14px);
      font-weight: 750;
      font-size: 13px;
    }

    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(0px);
    }
  </style>
</head>

<body>
  <div class="overlay">
    <div class="card">

      <div class="header">
        <h1>Edit profile</h1>
      </div>

      <div class="profile-area">
        <div class="avatar-wrap">
          <div class="avatar-ring">
            <img
              id="avatarPreview"
              class="avatar"
              src="https://i.ibb.co/yF8nCzxN/logo.png"
              alt="Profile photo"
            />
          </div>

          <button class="camera-btn" id="cameraBtn" title="Change photo">
            <svg viewBox="0 0 24 24">
              <path d="M9 3l1.5 2H14l1.5-2H19a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4zm3 16a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2.2a2.8 2.8 0 1 1 0-5.6 2.8 2.8 0 0 1 0 5.6z"/>
            </svg>
          </button>

          <input id="avatarInput" type="file" accept="image/*" hidden />
        </div>
      </div>

      <div class="form">
        <div class="field">
          <label>Display name</label>
          <input id="displayName" type="text" value="Faizan Sheikh" maxlength="30" />
        </div>

        <div class="grid-2">
          <div class="field">
            <label>Username</label>
            <input id="username" type="text" value="faizan32680" maxlength="20" />
            <div class="hint">Only letters and numbers allowed.</div>
            <div class="error" id="userError">Invalid username.</div>
          </div>

          <div class="field">
            <label>Email ID</label>
            <input id="email" type="email" value="faizan.sheikh99@gmail.com" />
            <div class="hint">We‚Äôll never show your email publicly.</div>
            <div class="error" id="emailError">Invalid email.</div>
          </div>
        </div>

        <div class="grid-2">
          <div class="field">
            <label>Date of Birth</label>
            <input id="dob" type="date" value="2003-08-17" />
          </div>

          <div class="field">
            <label>Phone Number</label>
            <input id="phone" type="tel" value="+91 98765 43210" />
            <div class="hint">Fake number for testing UI.</div>
          </div>
        </div>

        <div class="section-title">Educational Qualifications</div>
        <div class="field">
          <label>Education</label>
          <textarea id="education">B.Tech in Computer Science (2021 - 2025)
XYZ Institute of Technology, Pune
CGPA: 8.6/10</textarea>
        </div>

        <div class="section-title">Course</div>
        <div class="field">
          <label>Course / Certifications</label>
          <textarea id="course">‚Ä¢ Java Full Stack Development (Internshala)
‚Ä¢ Python for Data Science (Coursera)
‚Ä¢ Web Development Bootcamp (Udemy)</textarea>
        </div>

        <div class="section-title">Projects and Achievements</div>
        <div class="field">
          <label>Projects & Achievements</label>
          <textarea id="projects">‚Ä¢ Emergency Web App (QuickAid) - Built a web app for emergency services with live location & contact system.
‚Ä¢ Smart Attendance System - Face recognition based attendance using Python + OpenCV.
‚Ä¢ Hackathon Winner - 2nd place in college-level Hackathon 2024.</textarea>
        </div>

        <div class="section-title">Skills</div>
        <div class="field">
          <label>Technical Skills</label>
          <textarea id="skills">Java, Spring Boot, SQL, HTML, CSS, JavaScript, React, Node.js, Git, Docker, MongoDB</textarea>
          <div class="hint">Tip: Separate skills using commas.</div>
        </div>

        <div class="section-title">Professional Experience</div>
        <div class="field">
          <label>Experience</label>
          <textarea id="experience">Software Developer Intern - DevSpark Solutions (Jun 2024 - Sep 2024)
‚Ä¢ Built REST APIs using Spring Boot
‚Ä¢ Worked with SQL + Postman testing
‚Ä¢ Fixed UI bugs in React dashboard</textarea>
        </div>

        <div class="section-title">Hobbies and Interests</div>
        <div class="field">
          <label>Hobbies</label>
          <textarea id="hobbies">‚Ä¢ Coding & building small web projects
‚Ä¢ Gaming (BGMI / PUBG)
‚Ä¢ Reading light novels
‚Ä¢ Cricket & fitness</textarea>
        </div>

      </div>

      <div class="actions">
        <button class="btn btn-cancel" id="cancelBtn">Cancel</button>
        <button class="btn btn-save" id="saveBtn">Save</button>
      </div>

    </div>
  </div>

  <div class="toast" id="toast">Saved ‚úÖ</div>
<a href="p4.html" target="self"> <button class="back-btn" onclick="goBack()">‚Üê Back</button></a>

  <script>
    const avatarPreview = document.getElementById("avatarPreview");
    const avatarInput = document.getElementById("avatarInput");
    const cameraBtn = document.getElementById("cameraBtn");

    const username = document.getElementById("username");
    const email = document.getElementById("email");

    const cancelBtn = document.getElementById("cancelBtn");
    const saveBtn = document.getElementById("saveBtn");

    const toast = document.getElementById("toast");
    const userError = document.getElementById("userError");
    const emailError = document.getElementById("emailError");

    // Default state for cancel
    const defaultData = {};
    document.querySelectorAll("input, textarea").forEach(el => {
      defaultData[el.id] = el.value;
    });
    defaultData.avatar = avatarPreview.src;

    cameraBtn.addEventListener("click", () => avatarInput.click());

    avatarInput.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = () => avatarPreview.src = reader.result;
      reader.readAsDataURL(file);
    });

    function isValidUsername(value){
      return /^[a-zA-Z0-9]+$/.test(value);
    }

    function isValidEmail(value){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
    }

    function updateValidation(){
      let ok = true;

      const u = username.value.trim();
      if(u.length === 0 || !isValidUsername(u)){
        userError.style.display = "block";
        ok = false;
      } else {
        userError.style.display = "none";
      }

      const e = email.value.trim();
      if(e.length === 0 || !isValidEmail(e)){
        emailError.style.display = "block";
        ok = false;
      } else {
        emailError.style.display = "none";
      }

      saveBtn.disabled = !ok;
    }

    username.addEventListener("input", () => {
      username.value = username.value.replace(/\s+/g, "");
      updateValidation();
    });

    email.addEventListener("input", updateValidation);

    saveBtn.addEventListener("click", () => {
      updateValidation();
      if(saveBtn.disabled) return;
      showToast("Profile saved successfully ‚úÖ");
    });

    cancelBtn.addEventListener("click", () => {
      document.querySelectorAll("input, textarea").forEach(el => {
        el.value = defaultData[el.id];
      });
      avatarPreview.src = defaultData.avatar;

      userError.style.display = "none";
      emailError.style.display = "none";
      saveBtn.disabled = false;

      showToast("Changes reverted üîÅ");
    });

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 2200);
    }

    updateValidation();
  </script>
</body>
</html>


